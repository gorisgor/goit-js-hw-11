{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["const URL = \"https://pixabay.com/api/\";\n\nlet userRequest = \"\"; \nconst searchParams = new URLSearchParams({\n    key: \"43757696-1a32682a4096c08080d446579\",\n    q: userRequest,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n});\n\nfunction fetchImages(searchParams) {\n    return fetch(`${URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Не вдалося виконати запит до API Pixabay');\n            }\n            return response.json();\n        })\n        .catch(error => {\n            console.error('Помилка при отриманні зображень:', error);\n            throw error;\n        });\n}\n\nfunction onSearch(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n    userRequest = form.elements.query.value;\n    searchParams.set('q', userRequest); \n    loader.classList.remove('is-hidden');\n   \n    fetchImages(searchParams)\n        .then(renderImageCards) \n        .catch(onFetchError)\n        .finally(() => {\n            form.reset();\n            loader.classList.add('is-hidden');\n        });\n}\n\nconst gallery = document.querySelector('.gallery');\nconst searchForm = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction renderImageCards(data) {\n    gallery.innerHTML = \"\";\n    data.hits.forEach(image => {\n        const { webformatURL, tags, likes, views, comments, downloads } = image;\n        const markup = `<div class=\"card\">\n            <div class=\"card-img-top\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\">\n            </div>\n            <div class=\"card-body\">\n                <p class=\"card-text\">Likes: ${likes}</p>\n                <p class=\"card-text\">Views: ${views}</p>\n                <p class=\"card-text\">Comments: ${comments}</p>\n                <p class=\"card-text\">Downloads: ${downloads}</p>\n            </div>\n        </div>`;\n        gallery.insertAdjacentHTML('beforeend', markup);\n    });\n}\n\nfunction onFetchError(error) {\n    alert(error);\n}"],"names":["URL","userRequest","searchParams","fetchImages","response","error","onSearch","event","form","loader","renderImageCards","onFetchError","gallery","searchForm","data","image","webformatURL","tags","likes","views","comments","downloads","markup"],"mappings":"ssBAAA,MAAMA,EAAM,2BAEZ,IAAIC,EAAc,GAClB,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAED,SAASE,EAAYD,EAAc,CAC/B,OAAO,MAAM,GAAGF,CAAG,IAAIE,CAAY,EAAE,EAChC,KAAKE,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,0CAA0C,EAE9D,OAAOA,EAAS,MAC5B,CAAS,EACA,MAAMC,GAAS,CACZ,cAAQ,MAAM,mCAAoCA,CAAK,EACjDA,CAClB,CAAS,CACT,CAEA,SAASC,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACnBN,EAAcO,EAAK,SAAS,MAAM,MAClCN,EAAa,IAAI,IAAKD,CAAW,EACjCQ,EAAO,UAAU,OAAO,WAAW,EAEnCN,EAAYD,CAAY,EACnB,KAAKQ,CAAgB,EACrB,MAAMC,CAAY,EAClB,QAAQ,IAAM,CACXH,EAAK,MAAK,EACVC,EAAO,UAAU,IAAI,WAAW,CAC5C,CAAS,CACT,CAEA,MAAMG,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,SAAS,cAAc,OAAO,EAC3CJ,EAAS,SAAS,cAAc,SAAS,EAE/CI,EAAW,iBAAiB,SAAUP,CAAQ,EAE9C,SAASI,EAAiBI,EAAM,CAC5BF,EAAQ,UAAY,GACpBE,EAAK,KAAK,QAAQC,GAAS,CACvB,KAAM,CAAE,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGN,EAC5DO,EAAS;AAAA;AAAA,4BAEKN,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,8CAGRC,CAAK;AAAA,8CACLC,CAAK;AAAA,iDACFC,CAAQ;AAAA,kDACPC,CAAS;AAAA;AAAA,gBAGnDT,EAAQ,mBAAmB,YAAaU,CAAM,CACtD,CAAK,CACL,CAEA,SAASX,EAAaN,EAAO,CACzB,MAAMA,CAAK,CACf"}